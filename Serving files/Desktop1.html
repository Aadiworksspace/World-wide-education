<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="initial-scale=1, width=device-width" />

  <link rel="stylesheet" href="./Desktop1.css" />
  <link rel="stylesheet" href="./global.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Prata:wght@400&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap" />
</head>

<body>
  <div class="macbook-pro-1">
    <img class="whatsapp-image-2023-03-18-at-0-icon" alt="" src="./public/whatsapp-image-20230318-at-0106-1@2x.png" />

    <div class="world-wide-education">World Wide Education</div>
    <div class="fees-entries">Fees Entry</div>
    <div class="student-name">Student name</div>
    <div class="student-name" id="errorname"></div>
    <div class="payment-method">Payment method</div>
    <div class="batch">Batch</div>
    <div class="amount">Amount</div>
    <div class="amount" id="erroramount"></div>
    <form id="myForm">
      <input class="macbook-pro-1-child" id="Name"></input>
      <select class="macbook-pro-1-item" id="Payment">
        <option value="Cash">Cash</option>
        <option value="Online">Online</option>
      </select>
      <select class="macbook-pro-1-inner" id="Batch">
        <option value="Delhi police">Delhi police</option>
        <option value="SSC">SSC</option>
      </select>
      <input class="macbook-pro-1-child1" id="Amount"></input>
      <input type="submit" class="macbook-pro-1-child2"></input>
      <input type="submit" class="submit"></input>
    </form>
    <div id="message"></div>
  </div>
</body>
<script>
  document.getElementById("myForm").addEventListener("submit", function (event) {
    event.preventDefault(); // Prevent the form from submitting by default

    // Get input values
    const Name = document.getElementById("Name").value;
    const Payment = document.getElementById("Payment").value;
    const Batch = document.getElementById("Batch").value;
    const Amount = document.getElementById("Amount").value;

    if (Name == "" || Amount == "") {
      if (Name == "") {
        document.getElementById("errorname").innerHTML = "Enter a valid name"
      }
      else {
        document.getElementById("errorname").innerHTML = ""
      }
      if (Amount == "") {
        document.getElementById("erroramount").innerHTML = "Enter a valid Amount"
      }
      else {
        document.getElementById("erroramount").innerHTML = ""
      }
    }
    else {
      document.getElementById("message").innerHTML = "send successfully"
      setTimeout(() => {
        document.getElementById("message").innerHTML = ""
      }, 1500);
      document.getElementById("errorname").innerHTML = ""
      document.getElementById("erroramount").innerHTML = ""
      document.getElementById("Amount").value = ""
      document.getElementById("Name").value = ""
      data()
    }
    function data() {
      console.log(`Name: ${Name}, Payment: ${Payment}, Batch: ${Batch} , Amount: ${Amount}`);

      const data = {
        Name: Name,
        Payment: Payment,
        Batch: Batch,
        Amount: Amount
      };

      fetch('/receive-data', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(data),
      })
        .then((response) => response.json())
        .then((responseData) => {
        })
        .catch((error) => {
          console.error('Error:', error);
        });
    }
  });
</script>


</html>